{% extends 'base.html' %}
{% load static %}
{% block title %}Trang ch·ªß - CoffeeSpot{% endblock %}
{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/home.css' %}">
{% endblock %}

{% block content %}
    <section class="hero-section" style="background-image: url('{% static 'images/hero-bg.jpg' %}')">
        <div class="hero-overlay">
            <h1>Kh√°m ph√° qu√°n c√† ph√™ tuy·ªát v·ªùi</h1>
            <p>T√¨m ki·∫øm v√† kh√°m ph√° nh·ªØng qu√°n c√† ph√™ t·ªët nh·∫•t t·∫°i TP.HCM v·ªõi h·ªá th·ªëng ƒë·ªÅ xu·∫•t th√¥ng minh</p>
            <form action="{% url 'shop_list' %}" method="GET" class="search-form">
                <input type="text" name="search" placeholder="T√¨m t√™n qu√°n, ƒë·ªãa ƒëi·ªÉm...">
                <select name="district">
                    <option value="">T·∫•t c·∫£ khu v·ª±c</option>
                    <option value="Qu·∫≠n 1">Qu·∫≠n 1</option>
                    <option value="Qu·∫≠n 2">Qu·∫≠n 2</option>
                    <option value="Qu·∫≠n 3">Qu·∫≠n 3</option>
                    <option value="B√¨nh Th·∫°nh">B√¨nh Th·∫°nh</option>
                </select>
                <button type="submit" class="btn-primary">T√¨m ki·∫øm</button>
            </form>
        </div>
    </section>

    <section class="section-divider">
        <h2 class="section-title">ƒêang th·ªãnh h√†nh</h2>
        <p class="section-subtitle">Nh·ªØng qu√°n c√† ph√™ ƒë∆∞·ª£c ƒë√°nh gi√° cao nh·∫•t</p>
        <div class="shop-grid">
            {% for shop in hot_shops %}
                <div class="shop-card">
                    {% if shop.cover_image %}
                        <img src="{{ shop.cover_image.url }}" alt="{{ shop.name }}" class="shop-image">
                    {% else %}
                        <img src="{% static 'images/placeholder.png' %}" alt="·∫¢nh tr·ªëng" class="shop-image">
                    {% endif %}
                    <div class="shop-rating">‚≠ê 4.5</div>
                    <div class="shop-info">
                        <h3><a href="{% url 'shop_detail' shop.id %}">{{ shop.name }}</a></h3>
                        <p class="shop-location">üìç {{ shop.district }}</p>
                        <p class="shop-price">$ {{ shop.price_range }}</p>
                        <div class="shop-tags">
                            {% for tag in shop.tags.split|slice:":2" %}
                                <span>{{ tag }}</span>
                            {% endfor %}
                        </div>
                        <p class="shop-description">{{ shop.description|truncatewords:20 }}</p>
                    </div>
                </div>
            {% empty %}
                <p>Ch∆∞a c√≥ qu√°n n√†o th·ªãnh h√†nh. H√£y th√™m v√†o /admin ƒë·ªÉ xem demo.</p>
            {% endfor %}
        </div>
    </section>

    <section class="section-divider">
        <h2 class="section-title">Qu√°n m·ªõi</h2>
        <p class="section-subtitle">Kh√°m ph√° nh·ªØng qu√°n c√† ph√™ m·ªõi ƒë∆∞·ª£c th√™m v√†o</p>
        <div class="shop-grid">
            {% for shop in new_shops %}
                 <div class="shop-card">
                    {% if shop.cover_image %}
                        <img src="{{ shop.cover_image.url }}" alt="{{ shop.name }}" class="shop-image">
                    {% else %}
                        <img src="{% static 'images/placeholder.png' %}" alt="·∫¢nh tr·ªëng" class="shop-image">
                    {% endif %}
                    <div class="shop-rating">‚≠ê 4.4</div>
                    <div class="shop-info">
                        <h3><a href="{% url 'shop_detail' shop.id %}">{{ shop.name }}</a></h3>
                        <p class="shop-location">üìç {{ shop.district }}</p>
                        <p class="shop-price">$ {{ shop.price_range }}</p>
                        <div class="shop-tags">
                             {% for tag in shop.tags.split|slice:":2" %}
                                <span>{{ tag }}</span>
                            {% endfor %}
                        </div>
                        <p class="shop-description">{{ shop.description|truncatewords:20 }}</p>
                    </div>
                </div>
            {% empty %}
                <p>Ch∆∞a c√≥ qu√°n n√†o m·ªõi. H√£y th√™m v√†o /admin ƒë·ªÉ xem demo.</p>
            {% endfor %}
        </div>
    </section>

    <section class="section-divider">
        <h2 class="section-title">Ph·ªï bi·∫øn trong khu v·ª±c</h2>
        <p class="section-subtitle">Nh·ªØng qu√°n c√† ph√™ ƒë∆∞·ª£c nhi·ªÅu ng∆∞·ªùi gh√© thƒÉm</p>
        <div class="shop-grid">
             {% for shop in hot_shops|slice:"3:" %} {# L·∫•y th√™m v√†i qu√°n n·∫øu c√≥ #}
                <div class="shop-card">
                    {% if shop.cover_image %}
                        <img src="{{ shop.cover_image.url }}" alt="{{ shop.name }}" class="shop-image">
                    {% else %}
                        <img src="{% static 'images/placeholder.png' %}" alt="·∫¢nh tr·ªëng" class="shop-image">
                    {% endif %}
                    <div class="shop-rating">‚≠ê 4.6</div>
                    <div class="shop-info">
                        <h3><a href="{% url 'shop_detail' shop.id %}">{{ shop.name }}</a></h3>
                        <p class="shop-location">üìç {{ shop.district }}</p>
                        <p class="shop-price">$ {{ shop.price_range }}</p>
                        <div class="shop-tags">
                             {% for tag in shop.tags.split|slice:":2" %}
                                <span>{{ tag }}</span>
                            {% endfor %}
                        </div>
                        <p class="shop-description">{{ shop.description|truncatewords:20 }}</p>
                    </div>
                </div>
            {% empty %}
                <p>Ch∆∞a c√≥ qu√°n n√†o ph·ªï bi·∫øn.</p>
            {% endfor %}
        </div>
    </section>

    <section class="cta-banner-bottom">
        <h2>Kh√°m ph√° th√™m nhi·ªÅu qu√°n c√† ph√™</h2>
        <p>S·ª≠ d·ª•ng b·ªô l·ªçc chi ti·∫øt ƒë·ªÉ t√¨m qu√°n c√† ph√™ ph√π h·ª£p v·ªõi s·ªü th√≠ch c·ªßa b·∫°n</p>
        <a href="{% url 'shop_list' %}" class="btn-primary">Xem t·∫•t c·∫£ qu√°n</a>
    </section>
{% endblock %}